(self.webpackChunkbarbershop=self.webpackChunkbarbershop||[]).push([[625],{3625:(t,e,i)=>{"use strict";i.r(e),i.d(e,{UsersModule:()=>it});var n=i(3679),a=i(4466),r=i(4762),o=i(3962),l=i(1494),u=i(2789),s=i(7716),c=i(8446),m=i(7409),d=i(8295),f=i(9983),p=i(8583),Z=i(1095),h=i(7441),g=i(2458),b=i(4885);function q(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," ID "),s.qZA())}function T(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.id," ")}}function A(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," Name "),s.qZA())}function C(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.name," ")}}function x(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," profits "),s.qZA())}function v(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.profits," ")}}function U(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," totalContributions "),s.qZA())}function N(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.totalContributions," ")}}function _(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," works "),s.qZA())}function w(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.works.length," ")}}function B(t,e){1&t&&s._UZ(0,"tr",26)}function y(t,e){1&t&&s._UZ(0,"tr",27)}function Y(t,e){if(1&t&&(s.TgZ(0,"tr",28),s.TgZ(1,"td",29),s._uU(2),s.qZA(),s.qZA()),2&t){s.oxw(2);const t=s.MAs(7);s.xp6(2),s.hij('No data matching the filter "',t.value,'"')}}const Q=function(){return[5,10,25,100]};function k(t,e){if(1&t&&(s.TgZ(0,"div",11),s.TgZ(1,"table",12),s.ynx(2,13),s.YNc(3,q,2,0,"th",14),s.YNc(4,T,2,1,"td",15),s.BQk(),s.ynx(5,16),s.YNc(6,A,2,0,"th",14),s.YNc(7,C,2,1,"td",15),s.BQk(),s.ynx(8,17),s.YNc(9,x,2,0,"th",14),s.YNc(10,v,2,1,"td",15),s.BQk(),s.ynx(11,18),s.YNc(12,U,2,0,"th",14),s.YNc(13,N,2,1,"td",15),s.BQk(),s.ynx(14,19),s.YNc(15,_,2,0,"th",14),s.YNc(16,w,2,1,"td",15),s.BQk(),s.YNc(17,B,1,0,"tr",20),s.YNc(18,y,1,0,"tr",21),s.YNc(19,Y,3,1,"tr",22),s.qZA(),s._UZ(20,"mat-paginator",23),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("dataSource",t.dataSourceBarber),s.xp6(16),s.Q6J("matHeaderRowDef",t.displayedColumnsBarber),s.xp6(1),s.Q6J("matRowDefColumns",t.displayedColumnsBarber),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(4,Q))}}function S(t,e){1&t&&(s.TgZ(0,"div"),s._UZ(1,"mat-spinner"),s.qZA())}function J(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," ID "),s.qZA())}function D(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.id," ")}}function I(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," Name "),s.qZA())}function j(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.name," ")}}function M(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," visits "),s.qZA())}function $(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.visits.length," ")}}function G(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," spent "),s.qZA())}function R(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.spent," ")}}function z(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," points "),s.qZA())}function F(t,e){if(1&t&&(s.TgZ(0,"td",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.hij(" ",t.points," ")}}function E(t,e){1&t&&(s.TgZ(0,"th",24),s._uU(1," view "),s.qZA())}function H(t,e){1&t&&(s.TgZ(0,"td",25),s.TgZ(1,"button",34),s._uU(2,"View"),s.qZA(),s.qZA())}function O(t,e){1&t&&s._UZ(0,"tr",26)}function V(t,e){1&t&&s._UZ(0,"tr",27)}function L(t,e){if(1&t&&(s.TgZ(0,"tr",28),s.TgZ(1,"td",29),s._uU(2),s.qZA(),s.qZA()),2&t){s.oxw(2);const t=s.MAs(7);s.xp6(2),s.hij('No data matching the filter "',t.value,'"')}}function W(t,e){if(1&t&&(s.TgZ(0,"div",11),s.TgZ(1,"table",12),s.ynx(2,13),s.YNc(3,J,2,0,"th",14),s.YNc(4,D,2,1,"td",15),s.BQk(),s.ynx(5,16),s.YNc(6,I,2,0,"th",14),s.YNc(7,j,2,1,"td",15),s.BQk(),s.ynx(8,30),s.YNc(9,M,2,0,"th",14),s.YNc(10,$,2,1,"td",15),s.BQk(),s.ynx(11,31),s.YNc(12,G,2,0,"th",14),s.YNc(13,R,2,1,"td",15),s.BQk(),s.ynx(14,32),s.YNc(15,z,2,0,"th",14),s.YNc(16,F,2,1,"td",15),s.BQk(),s.ynx(17,33),s.YNc(18,E,2,0,"th",14),s.YNc(19,H,3,0,"td",15),s.BQk(),s.YNc(20,O,1,0,"tr",20),s.YNc(21,V,1,0,"tr",21),s.YNc(22,L,3,1,"tr",22),s.qZA(),s._UZ(23,"mat-paginator",23),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("dataSource",t.dataSourceClient),s.xp6(19),s.Q6J("matHeaderRowDef",t.displayedColumnsClient),s.xp6(1),s.Q6J("matRowDefColumns",t.displayedColumnsClient),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(4,Q))}}function X(t,e){1&t&&(s.TgZ(0,"div"),s._UZ(1,"mat-spinner"),s.qZA())}let P=(()=>{class t{constructor(t,e,i){this.barbersService=t,this.clientsService=e,this.formBuilder=i,this.displayedColumnsBarber=["id","name","profits","totalContributions","works"],this.displayedColumnsClient=["id","name","visits","spent","points","view"],this.load=!0,this.loadTable(),this.initForm()}loadTable(){this.barbersService.getBarbers().then(t=>{this.dataSourceBarber=new u.by(t),setTimeout(()=>{this.load=!1},1e3)}),this.clientsService.getClients().then(t=>{this.dataSourceClient=new u.by(t),setTimeout(()=>{this.load=!1},1e3)})}initForm(){this.formBarber=this.formBuilder.group({name:["",[n.kI.required]]}),this.formClient=this.formBuilder.group({id:[,[n.kI.required]],name:["",[n.kI.required]],member:[!1,[n.kI.required]]})}newBarber(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.barbersService.addBarber(this.formBarber.value.name),this.load=!0,this.loadTable()})}newClient(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.clientsService.addClient(this.formClient.value.name,this.formClient.value.id,this.formClient.value.member),this.load=!0,this.loadTable()})}ngAfterViewInit(){this.dataSourceBarber.paginator=this.paginator,this.dataSourceBarber.sort=this.sort,this.dataSourceClient.paginator=this.paginator,this.dataSourceClient.sort=this.sort}applyFilterBarber(t){this.dataSourceBarber.filter=t.target.value.trim().toLowerCase(),this.dataSourceBarber.paginator&&this.dataSourceBarber.paginator.firstPage()}applyFilterClient(t){this.dataSourceClient.filter=t.target.value.trim().toLowerCase(),this.dataSourceClient.paginator&&this.dataSourceClient.paginator.firstPage()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c.v),s.Y36(m.a),s.Y36(n.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-users"]],viewQuery:function(t,e){if(1&t&&(s.Gf(o.NW,5),s.Gf(l.YE,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.paginator=t.first),s.iGM(t=s.CRH())&&(e.sort=t.first)}},decls:46,vars:10,consts:[["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],["class","mat-elevation-z8",4,"ngIf"],[4,"ngIf"],[2,"margin-top","20px","display","flex","text-align","center",3,"formGroup"],[1,"example-full-width",2,"margin-right","28px"],["formControlName","name","required","","matInput","","placeholder","Ex. Jose"],["mat-raised-button","","color","primary",3,"disabled","click"],["type","number","formControlName","id","required","","matInput","","placeholder","Ex. 123"],["formControlName","member"],[3,"value"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","profits"],["matColumnDef","totalContributions"],["matColumnDef","works"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],["matColumnDef","visits"],["matColumnDef","spent"],["matColumnDef","points"],["matColumnDef","view"],["mat-raised-button","","color","primary"]],template:function(t,e){1&t&&(s.TgZ(0,"div"),s.TgZ(1,"h1"),s._uU(2,"Barbers"),s.qZA(),s.TgZ(3,"mat-form-field"),s.TgZ(4,"mat-label"),s._uU(5,"Filter"),s.qZA(),s.TgZ(6,"input",0,1),s.NdJ("keyup",function(t){return e.applyFilterBarber(t)}),s.qZA(),s.qZA(),s.YNc(8,k,21,5,"div",2),s.YNc(9,S,2,0,"div",3),s.TgZ(10,"div",4),s.TgZ(11,"mat-form-field",5),s.TgZ(12,"mat-label"),s._uU(13,"Barber Name"),s.qZA(),s._UZ(14,"input",6),s.qZA(),s.TgZ(15,"button",7),s.NdJ("click",function(){return e.newBarber()}),s._uU(16,"Create "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div"),s.TgZ(18,"h1"),s._uU(19,"Clients"),s.qZA(),s.TgZ(20,"mat-form-field"),s.TgZ(21,"mat-label"),s._uU(22,"Filter"),s.qZA(),s.TgZ(23,"input",0,1),s.NdJ("keyup",function(t){return e.applyFilterClient(t)}),s.qZA(),s.qZA(),s.YNc(25,W,24,5,"div",2),s.YNc(26,X,2,0,"div",3),s.TgZ(27,"div",4),s.TgZ(28,"mat-form-field",5),s.TgZ(29,"mat-label"),s._uU(30,"Client Name"),s.qZA(),s._UZ(31,"input",6),s.qZA(),s.TgZ(32,"mat-form-field",5),s.TgZ(33,"mat-label"),s._uU(34,"Client ID"),s.qZA(),s._UZ(35,"input",8),s.qZA(),s.TgZ(36,"mat-form-field",5),s.TgZ(37,"mat-label"),s._uU(38,"Member or visit"),s.qZA(),s.TgZ(39,"mat-select",9),s.TgZ(40,"mat-option",10),s._uU(41,"Visiter"),s.qZA(),s.TgZ(42,"mat-option",10),s._uU(43,"Member"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(44,"button",7),s.NdJ("click",function(){return e.newClient()}),s._uU(45,"Create "),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(8),s.Q6J("ngIf",!e.load),s.xp6(1),s.Q6J("ngIf",e.load),s.xp6(1),s.Q6J("formGroup",e.formBarber),s.xp6(5),s.Q6J("disabled",!e.formBarber.valid),s.xp6(10),s.Q6J("ngIf",!e.load),s.xp6(1),s.Q6J("ngIf",e.load),s.xp6(1),s.Q6J("formGroup",e.formClient),s.xp6(13),s.Q6J("value",!1),s.xp6(2),s.Q6J("value",!0),s.xp6(2),s.Q6J("disabled",!e.formClient.valid))},directives:[d.KE,d.hX,f.Nt,p.O5,n.JL,n.sg,n.Fj,n.JJ,n.u,n.Q7,Z.lW,n.wV,h.gD,g.ey,u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.Ee,o.NW,u.ge,l.nU,u.ev,u.XQ,u.Gk,b.$g],styles:[""]}),t})();var K=i(4655);const tt=[{path:"",component:P},{path:"user:id",loadChildren:()=>i.e(595).then(i.bind(i,595)).then(t=>t.UserModule)}];let et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[K.Bz.forChild(tt)],K.Bz]}),t})(),it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[p.ez,et,n.u5,a.m]]}),t})()}}]);